
<!DOCTYPE html>

<!-- Nuthara Bandara, Data Science 2021 -->


<!-- ///////////////////  HEAD //////////////////////////////////// -->

(function($) {

	var	$window = $(window),
		$body = $('body'),
		settings = {

			// Carousels
				carousels: {
					speed: 4,
					fadeIn: true,
					fadeDelay: 250
				},

		};

	// Breakpoints.
		breakpoints({
			wide:      [ '1281px',  '1680px' ],
			normal:    [ '961px',   '1280px' ],
			narrow:    [ '841px',   '960px'  ],
			narrower:  [ '737px',   '840px'  ],
			mobile:    [ null,      '736px'  ]
		});

	// Play initial animations on page load.
		$window.on('load', function() {
			window.setTimeout(function() {
				$body.removeClass('is-preload');
			}, 100);
		});

	// Dropdowns.
		$('#nav > ul').dropotron({
			mode: 'fade',
			speed: 350,
			noOpenerFade: true,
			alignment: 'center'
		});

	// Scrolly.
		$('.scrolly').scrolly();

	// Nav.

		// Button.
			$(
				'<div id="navButton">' +
					'<a href="#navPanel" class="toggle"></a>' +
				'</div>'
			)
				.appendTo($body);

		// Panel.
			$(
				'<div id="navPanel">' +
					'<nav>' +
						$('#nav').navList() +
					'</nav>' +
				'</div>'
			)
				.appendTo($body)
				.panel({
					delay: 500,
					hideOnClick: true,
					hideOnSwipe: true,
					resetScroll: true,
					resetForms: true,
					target: $body,
					visibleClass: 'navPanel-visible'
				});

	// Carousels.
		$('.carousel').each(function() {

			var	$t = $(this),
				$forward = $('<span class="forward"></span>'),
				$backward = $('<span class="backward"></span>'),
				$reel = $t.children('.reel'),
				$items = $reel.children('article');

			var	pos = 0,
				leftLimit,
				rightLimit,
				itemWidth,
				reelWidth,
				timerId;

			// Items.
				if (settings.carousels.fadeIn) {

					$items.addClass('loading');

					$t.scrollex({
						mode: 'middle',
						top: '-20vh',
						bottom: '-20vh',
						enter: function() {

							var	timerId,
								limit = $items.length - Math.ceil($window.width() / itemWidth);

							timerId = window.setInterval(function() {
								var x = $items.filter('.loading'), xf = x.first();

								if (x.length <= limit) {

									window.clearInterval(timerId);
									$items.removeClass('loading');
									return;

								}

								xf.removeClass('loading');

							}, settings.carousels.fadeDelay);

						}
					});

				}

			// Main.
				$t._update = function() {
					pos = 0;
					rightLimit = (-1 * reelWidth) + $window.width();
					leftLimit = 0;
					$t._updatePos();
				};

				$t._updatePos = function() { $reel.css('transform', 'translate(' + pos + 'px, 0)'); };

			// Forward.
				$forward
					.appendTo($t)
					.hide()
					.mouseenter(function(e) {
						timerId = window.setInterval(function() {
							pos -= settings.carousels.speed;

							if (pos <= rightLimit)
							{
								window.clearInterval(timerId);
								pos = rightLimit;
							}

							$t._updatePos();
						}, 10);
					})
					.mouseleave(function(e) {
						window.clearInterval(timerId);
					});

			// Backward.
				$backward
					.appendTo($t)
					.hide()
					.mouseenter(function(e) {
						timerId = window.setInterval(function() {
							pos += settings.carousels.speed;

							if (pos >= leftLimit) {

								window.clearInterval(timerId);
								pos = leftLimit;

							}

							$t._updatePos();
						}, 10);
					})
					.mouseleave(function(e) {
						window.clearInterval(timerId);
					});

			// Init.
				$window.on('load', function() {

					reelWidth = $reel[0].scrollWidth;

					if (browser.mobile) {

						$reel
							.css('overflow-y', 'hidden')
							.css('overflow-x', 'scroll')
							.scrollLeft(0);
						$forward.hide();
						$backward.hide();

					}
					else {

						$reel
							.css('overflow', 'visible')
							.scrollLeft(0);
						$forward.show();
						$backward.show();

					}

					$t._update();

					$window.on('resize', function() {
						reelWidth = $reel[0].scrollWidth;
						$t._update();
					}).trigger('resize');

				});

		});

})(jQuery);

  <!--The next three lines allow the Vega embed-->
<script src="https://cdn.jsdelivr.net/npm/vega@5.17.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.17.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>

</head>

<!-- ///////////////////  START BODY //////////////////////////////////// -->

<body>
  <ul>
    <li><a class="active" href="index.html">Home</a></li>
    <li><a href="project">Project</a></li>
    <li><a href="https://github.com/nutharabandara/nutharabandara.github.io">Github</a></li>
    <li><a href="https://rapidcharts.io/datascience">Course</a></li>
  </ul>
  
  <div style="margin-left:50%;padding:2px 15px;height:1000px;">
  <!--Navigation bar and title-->
    <header>
    <h1>ECON30006: Data Visualisation Portfolio</h1>
    <p><strong>Nuthara Bandara</strong></p>
    </header>
  
    <h3>Covid-19 Cases</h3>
      <p>Here is my first interactive chart which looks at Covid-19 cases in UK regions.
      </p>
<!--Chart 1 -->
    <div class="chart" id="chart1">
        <script>
          //Following the script tag, we are now using Javascript
          //One way to tell is to see how comments work
          //First job is to set the chart as a JS variable
          var myChart1 = "chart1_covidUKRegions.json";
          //Now we simply insert it, using Vega's embed code:
          vegaEmbed('#chart1', myChart1);
        </script>
    </div>

    <h3>UK Productivity</h3>
      <p>My second chart displays the pattern of UK labour productivity over the past few years.</p>
<!--Chart 2 -->
  <div class="chart" id="chart2">
       <script>
        var myChart2 = "chart2_ukProductivity.json";
        vegaEmbed('#chart2', myChart2);
      </script>
  </div>

    <h3>Bitcoin</h3>
      <p>This third chart shows the trend of the daily BTC price of Bitcoin.
        This chart is also interactive, with sliders that can change the period of which the chart looks at. </p>
  <!--Chart 3 -->
  <div class="chart" id="chart3">
    <script>
      var myChart3 = "chart3_crypto.json";
      vegaEmbed('#chart3', myChart3);
    </script>
   </div>

    <h3>UK Full Vaccinations</h3>
      <p>My fourth chart highlights the cummulative number of people which have been fully vaccinated in the following regions.</p>
    <p>This chart was hosted from a given API.</p>
<!--Chart 4 -->
  <div class="chart" id="chart4">
    <script>
      var myChart4 = "chart_Week2_covidVacc.json";
      vegaEmbed('#chart4', myChart4);
    </script>
  </div>

    <h3>London New COVID Cases</h3>
      <p>This fifth chart displays the trend of new cases occuring in London.</p>
    <p>This chart was embedded from my own raw data.</p>
<!--Chart 5 -->
  <div class="chart" id="chart5">
    <script>
      var myChart5 = "chart_Week2_newCasesLdn.json";
      vegaEmbed('#chart5', myChart5);
    </script>
  </div>


</body>
<!-- ///////////////////  END BODY //////////////////////////////////// -->

</html>
